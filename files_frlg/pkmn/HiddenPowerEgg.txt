@@ title = "Create Egg with Custom Hidden Power (bootstrapped)"
@@ author = "PapaJefe & it_is_final"
@@ exit = "Bootstrapped"

; ~REQUIREMENTS~
; This code requires a Box 14 exit code for grab ACE.
; It can be found here:
; https://pomeg-letterbombers.github.io/pokemon-ace-notes/frlg/exit-codes/box-14-exit/

; Once the Bootstrap is set up, follow the instructions below.

; ~STEP 1: SELECT SPECIES~
; This code will create an Egg with the species of your choice in Box 10 Slot 2.
; Make sure Box 10 Slot 2 is empty beforehand.
; Type in species name below, and select from the dropdown to select its Index Number.

species = POKEMON @input:species

;~STEP 2: SELECT ABILITY~
; ability = 0 is First Ability (Ex. Staryu: Illuminate)
; ability = 1 is Second Ability (Ex. Staryu: Natural Cure)
; NOTE!: ability=1 won't appear until after hatching.

ability = 0

;~STEP 3: CHOOSE IVs~
; You can find a list of compatible Hex values for IVs here:
; https://e-sh4rk.github.io/EmeraldACE_web/doc/HiddenPowerHex.txt

; Replace the IVs variable below with the Hex value for desired IVs.

IVs = 0xFDFFFFFF

;~STEP 4: CHOOSE ORIGIN GAME~
; Alternate game origin will be preserved upon hatching. All other Met Data will self correct.
; Emerald=0x29C0, FireRed=0x0A30, LeafGreen=0x02A4, Ruby=0xA100, Sapphire=0x2880 , XDColo=0x2FC0

met_data ?= 0x29C0

;~STEP 5: GENERATE & EXECUTE CODE~
; If ability=0 an Egg will appear in Box 10 Slot 2.
; If ability=1 a Lvl 0 Shiny of your chosen Pokemon will appear.
; Move the Egg/Pokemon to Box 3 Slot 1.

;~STEP 6: CHOOSE PID for NATURE/ABILITY~
; The PID and OTID will be 0x00000000, so Nature is always Hardy and Ability is 0.
; You can change Nature/Ability by combining with the Mail Glitch.

; Choose ONE word that matches your desired Nature/Ability from this list:
; https://e-sh4rk.github.io/EmeraldACE_web/doc/naturewords.txt

; For example, Adamant/Ability 0 would be:
; GAEM Adamant	1800	LIFESTYLE	CHORES

; Adamant/Ability 1 would be:
; GAME Adamant	1C01	TIME	MORNING

; Activate the Glitched Mail Message, and enter the chosen word into the first four slots.

; ~EXAMPLE MAIL MESSAGE~
; CHORES CHORES
; CHORES CHORES

; The Egg's PID is now 0x1800 1800
; If ability=0, nothing about the Egg should visibly change.
; If ability=1, the Lvl 0 Shiny Pokemon should become an Egg.

;~STEP 7: HATCH THE EGG~
; Egg should contain desired Pokemon with chosen IVs, Nature & Ability.
; If used after executing "Replace TID with SID," all Eggs generated this way will be Shiny.

; Don't touch this variable.
Checksum ? = ((IVs & 0xFFFF) + (IVs >> 16) + species + met_data) & 0xFFFF
@@

SBC r11, pc, #0x2F00
MOV r12, {species} ?
STRH r12, [r11, #0x88] ; Store species
MOV r12, {met_data} ?
STRH r12, [r11, #{ability ? 0xA2 : 0xAE}] ; Store origin data
MOV r12, {Checksum} ?
STRH r12, [r11, #0x84] ; Store checksum
MOV r12, {IVs} ?
STR r12, [r11, #{ability ? 0xA4 : 0xB0}]! ; Store IVs
